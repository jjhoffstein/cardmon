# cardmon

> Credit card benefits monitoring system

## What This Does

Monitors credit card marketing pages for changes, extracts Schumer box data (APRs, fees) from official T&Cs, optionally uses LLM for benefits extraction.

## Architecture

    extractors/base.py     - BaseSchumerExtractor with label_map, row_selector, cell_tags
    extractors/{issuer}.py - Override only what differs per issuer
    models.py              - Schumer, Benefits, Card, CheckResult (Pydantic)
    repository.py          - SQLite: cards, checks, queue tables
    fetcher.py             - Async HTTP, hash(), diff()
    monitor.py             - CardMonitor.check_card(), check_all()
    cli.py                 - cardmon sync|check|queue|approve
    config.py              - Load cards.yaml grouped by issuer

## Key Extension Point

New issuers: subclass BaseSchumerExtractor, override label_map/selectors, register in __init__.py

## Commands

    cardmon sync                    # cards.yaml -> DB
    cardmon check [--issuer chase]  # Check cards, queue changes
    cardmon queue                   # List pending reviews
    cardmon approve <id>            # Mark reviewed

## Data Flow

    cards.yaml -> sync -> DB
    check -> fetch page -> hash -> changed? -> extract Schumer -> save -> queue
